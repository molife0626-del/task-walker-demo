<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Walker</title>
    <style>
        body { font-family: sans-serif; margin: 0; background: #f0f2f5; overflow: hidden; }
        .header { background: #333; color: white; padding: 15px; text-align: center; font-weight: bold; }
        .field { height: 60vh; position: relative; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; }
        .station { width: 80px; height: 80px; background: white; border-radius: 50%; display: flex; flex-direction: column; justify-content: center; align-items: center; box-shadow: 0 4px 10px rgba(0,0,0,0.1); z-index: 10; }
        .path { position: absolute; top: 50%; left: 60px; right: 60px; height: 4px; background: #ddd; transform: translateY(-50%); z-index: 1; }
        .walker { position: absolute; top: 50%; left: 60px; font-size: 40px; transform: translateY(-50%); transition: left 2.5s ease-in-out; z-index: 20; display: none; }
        .walker-body { animation: bounce 0.5s infinite alternate; }
        @keyframes bounce { from { transform: translateY(0); } to { transform: translateY(-10px); } }
        .controls { position: fixed; bottom: 30px; width: 100%; text-align: center; }
        button { background: #007bff; color: white; border: none; padding: 15px 40px; border-radius: 30px; font-size: 16px; font-weight: bold; box-shadow: 0 4px 15px rgba(0,123,255,0.4); }
        #knock-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 1000; flex-direction: column; justify-content: center; align-items: center; color: white; }
        .knocking-char { font-size: 100px; animation: knock 0.1s infinite alternate; }
        @keyframes knock { from { transform: rotate(-5deg); } to { transform: rotate(5deg); } }
        .accept-btn { margin-top: 30px; background: #28a745; }
    </style>
</head>
<body>
    <div class="header">Task Walker</div>
    <div class="field">
        <div class="station">ğŸ <div style="font-size:10px">è‡ªåˆ†</div></div>
        <div class="path"></div>
        <div class="station">ğŸ¢<div style="font-size:10px">æ‹…å½“è€…</div></div>
        <div id="walker" class="walker"><div class="walker-body">ğŸ¤–</div></div>
    </div>
    <div class="controls"><button onclick="sendTask()">ã‚¿ã‚¹ã‚¯é€ä¿¡ ğŸ“¤</button></div>
    <div id="knock-overlay">
        <div class="knocking-char">ğŸ¤–</div>
        <h2>ã‚³ãƒ³ã‚³ãƒ³ï¼</h2>
        <p>æ–°ã—ã„ã‚¿ã‚¹ã‚¯ãŒå±Šãã¾ã—ãŸ</p>
        <button class="accept-btn" onclick="location.reload()">å—ã‘å–ã‚‹</button>
    </div>
    <script>
        function sendTask() {
            const w = document.getElementById('walker');
            w.style.display = 'block';
            w.style.left = '60px';
            setTimeout(() => { w.style.left = (document.body.clientWidth - 100) + 'px'; }, 100);
            setTimeout(() => { 
                document.getElementById('knock-overlay').style.display = 'flex';
                if(navigator.vibrate) navigator.vibrate([200,100,200]);
            }, 2500);
        }
    </script>
</body>
</html>
